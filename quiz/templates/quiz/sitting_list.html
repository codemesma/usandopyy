{% extends 'base.html' %}
{% load i18n %}
{% block title %}{% trans "Todos os testes" %}{% endblock %}

{% block content %}

<section class="section mt-0">
	<div class="container">
	  <div class="row">
		<aside class="col-lg-4 order-2 order-lg-1 border-right">
		  <!--  block ads_2 -->
		  {% block ads_2 %} {% include 'theme/ads_2.html' %} {% endblock %}
		</aside>
  
		<div class="col-lg-8 order-1 order-lg-2 mb-5 mb-lg-0">
			<h2>{% trans "Lista de exames completos" %}</h2>
			{% if sitting_list %}
		
				<table class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
		
				  <thead>
					<tr>
						<th>{% trans "Usuário" %}</th>
						<th>{% trans "Teste" %}</th>
						<th>{% trans "Concluído" %}</th>
						<th>{% trans "Pontuação" %}(%)</th>
					  <th></th>
					</tr>
				  </thead>
		
				  <tbody>
					<tr>
					  <form action="" method="GET">
						<td><input type="text" name="user_filter" /></td>
						<td><input type="text" name="quiz_filter" /></td>
						<td></td>
						<td></td>
						<td><button type="submit" class="btn btn-default">{% trans "Filtro"%}</button></td>
					  </form>
					</tr>
		
		
				{% for sitting in sitting_list %}
		
					<tr>
					  <td><img loading="lazy"
						src="{{ sitting.user.avatar.url }}"
						class="img-fluid"
						alt="post-thumb"
			  
					  /></td>
					  <td>{{ sitting.user }}</td>
					  <td>{{ sitting.quiz }}</td>
					  <td>{{ sitting.end|date }}</td>
					  <td>{{ sitting.get_percent_correct }}</td>
					  <td>
						<a href="{% url 'quiz_marking_detail' pk=sitting.id %}">
						  {% trans "Ver detalhes" %}
						</a>
					</tr>
		
				{% endfor %}
		
				  </tbody>
		
				</table>
			{% else %}
				<p>{% trans "Não há questionários correspondentes" %}.</p>
			{% endif %}
		</div>
	  </div>
	</div>
  </section>

{% endblock %}
